<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>SaleScope Seller Dashboard</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<style>
/* ‚úÖ SAME CSS ‚Äî paste your CSS here */
</style>
</head>
<body>

<!-- ‚úÖ NAVBAR -->
<nav class="navbar navbar-expand-lg navbar-dark shadow-sm" style="background:#7D0552; height:58px;">
  <div class="container-fluid px-3" style="max-width:1250px;">

    <a class="navbar-brand fw-bold" th:href="@{/seller/dashboard}">
      SaleScope
    </a>

    <div class="collapse navbar-collapse">

      <!-- Search -->
      <form class="d-flex mx-auto"
            th:action="@{/seller/search}"
            method="get"
            style="width:80%; max-width:1100px;">
        <input class="form-control me-2"
               name="query"
               type="search"
               placeholder="Search your listed products...">
        <button class="btn btn-warning px-3" type="submit">
          <i class="fa fa-search"></i>
        </button>
      </form>

      <ul class="navbar-nav ms-auto align-items-center">

        <!-- Add Product -->
        <li class="nav-item me-3">
          <a class="nav-link text-white fw-semibold"
             th:href="@{/seller/add-product}">
            <i class="fa fa-plus-circle me-1"></i>Add Product
          </a>
        </li>

		<!-- üë§ Seller Profile -->
		<li class="nav-item dropdown d-flex align-items-center">

		    <a class="d-flex align-items-center text-white text-decoration-none"
		       th:href="@{/seller/profile}">

		        <!-- Profile Image -->
		        <img th:if="${currentUser != null and currentUser.profileImage != null and !currentUser.profileImage.isEmpty()}"
		             th:src="@{'/' + ${currentUser.profileImage}}"
		             style="width:40px;height:40px;border-radius:50%;
		                    object-fit:cover;border:2px solid white;"
		             class="me-2">

		        <img th:if="${currentUser == null or currentUser.profileImage == null or currentUser.profileImage.isEmpty()}"
		             th:src="@{/images/user.png}"
		             style="width:40px;height:40px;border-radius:50%;
		                    background:white;border:2px solid white;"
		             class="me-2">

		        <!-- Username -->
		        <span class="fw-semibold"
		              th:text="${currentUser != null ? currentUser.name : 'Seller'}">
		        </span>

		    </a>

		</li>
		  

          <button class="btn btn-sm text-white ms-2 dropdown-toggle"
                  data-bs-toggle="dropdown"
                  style="border:none; background:none;">
            <i class="fa fa-bars fa-lg"></i>
          </button>

          <ul class="dropdown-menu dropdown-menu-end shadow-sm border-0"
              style="min-width:220px;">

            <li><a class="dropdown-item" th:href="@{/seller/profile}">
              <i class="fa fa-user text-primary me-2"></i>Profile</a></li>

            <li><a class="dropdown-item" th:href="@{/seller/orders}">
              <i class="fa fa-box text-success me-2"></i>My Orders</a></li>

            <li><a class="dropdown-item" th:href="@{/seller/add-product}">
              <i class="fa fa-plus text-warning me-2"></i>Add Product</a></li>

            <li><hr class="dropdown-divider"></li>

            <li><a class="dropdown-item text-danger" th:href="@{/logout}">
              <i class="fa fa-sign-out-alt me-2"></i>Logout</a></li>
          </ul>
        </li>

      </ul>
    </div>
  </div>
</nav>

<!-- ‚úÖ SLIDER -->
<div id="carouselExampleIndicators"
     class="carousel slide mt-1 shadow rounded-4 overflow-hidden"
     data-bs-ride="carousel">

  <div class="carousel-inner">
    <div class="carousel-item active">
      <img th:src="@{/images/banerr.jpg}" class="d-block w-100">
    </div>
    <div class="carousel-item">
      <img th:src="@{/images/banner4.jpg}" class="d-block w-100">
    </div>
    <div class="carousel-item">
      <img th:src="@{/images/banner5.jpg}" class="d-block w-100">
    </div>
  </div>
</div>



<!-- üî∑ PRODUCTS -->
<div class="container mt-5">

  <!-- ‚úÖ Center Heading -->
  <div class="text-center mb-4">
    <h2 class="fw-bold">Your Products</h2>
  </div>

  <div class="row g-4">

    <!-- If Products Exist -->
    <div class="col-lg-3 col-md-4 col-sm-6"
         th:each="p : ${products}"
         th:if="${products != null and !#lists.isEmpty(products)}">
		 
		
      <div class="card shadow-sm border-0 h-100 position-relative">

		<div class="card-body text-start">
		  <span class="badge bg-success mb-2">Active</span>


        <!-- Product Image -->
        <img th:if="${p.image != null and !p.image.isEmpty()}"
             th:src="@{'/' + ${p.image}}"
             class="card-img-top"
             style="height:220px; object-fit:cover;">

        <img th:if="${p.image == null or p.image.isEmpty()}"
             src="https://via.placeholder.com/400x250?text=No+Image"
             class="card-img-top"
             style="height:220px; object-fit:cover;">

        <div class="card-body text-center">

          <h5 class="fw-bold" th:text="${p.name}"></h5>

          <p class="text-primary fw-semibold"
             th:text="'‚Çπ ' + ${p.price}"></p>

          <div class="d-flex justify-content-between mt-3">

            <!-- Edit -->
            <a th:href="@{/seller/edit-product/{id}(id=${p.id})}"
               class="btn btn-sm btn-warning w-50 me-1">
              Edit
            </a>

            <!-- Delete -->
            <form th:action="@{/seller/delete-product}"
                  method="post"
                  class="w-50"
                  onsubmit="return confirm('Delete this product?');">

              <input type="hidden"
                     name="productId"
                     th:value="${p.id}">

              <button type="submit"
                      class="btn btn-sm btn-danger w-100">
                Delete
              </button>
            </form>

          </div>

        </div>
      </div>

    </div>

    <!-- If Empty -->
    <div class="col-12 text-center text-muted"
         th:if="${products == null or #lists.isEmpty(products)}">
      No products found!
    </div>

  </div>
</div>

<footer class="mt-5">
  <p>¬© 2025 SaleScope Seller Portal | Built with ‚ù§Ô∏è by Kamaldev Kumar</p>
</footer>

</body>
</html>