<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Edit Product | SaleScope</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

<style>
body{
  background: linear-gradient(135deg,#f3f6fb,#dfe9f3);
  font-family: 'Poppins', sans-serif;
}

.form-card{
  max-width:650px;
  margin:50px auto;
  padding:30px;
  border-radius:18px;
  background:#fff;
  box-shadow:0 12px 30px rgba(0,0,0,0.08);
}

.current-img{
  max-height:160px;
  border-radius:10px;
}
</style>
</head>
<body>

<div class="form-card">

  <h4 class="text-center fw-bold mb-4">Edit Product</h4>

  <!-- Current Image -->
  <div class="text-center mb-3">
    <p class="text-muted mb-1">Current Image</p>

    <img th:if="${product.image != null}"
         th:src="@{'/' + ${product.image}}"
         class="current-img">

    <img th:if="${product.image == null}"
         src="https://via.placeholder.com/400x250?text=No+Image"
         class="current-img">
  </div>

  <form th:action="@{/seller/update-product}"
        method="post"
        enctype="multipart/form-data">

    <input type="hidden" name="productId" th:value="${product.id}">
    <input type="hidden" name="existingImage" th:value="${product.image}">

    <div class="mb-3">
      <label class="form-label">Product Name</label>
      <input type="text"
             name="name"
             class="form-control"
             th:value="${product.name}"
             required>
    </div>

    <div class="mb-3">
      <label class="form-label">Price (₹)</label>
      <input type="number"
             step="0.01"
             min="0"
             name="price"
             class="form-control"
             th:value="${product.price}"
             required>
    </div>

    <div class="mb-3">
      <label class="form-label">Change Image (optional)</label>
      <input type="file"
             name="image"
             class="form-control"
             accept="image/*">
      <div class="form-text">
        Leave empty to keep existing image.
      </div>
    </div>

    <div class="d-flex justify-content-between">
      <a th:href="@{/seller/dashboard}"
         class="btn btn-secondary">
        ← Back
      </a>

      <button type="submit"
              class="btn btn-primary">
        <i class="fa fa-save me-1"></i>Update Product
      </button>
    </div>

  </form>

</div>

</body>
</html>