<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>SaleScope - Products</title>

<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

<style>
body {
    background-color:#f1f3f6;
    font-family:'Poppins', sans-serif;
}

/* NAVBAR */
.navbar {
    background-color:#7D0552;
}

.navbar-brand {
    font-weight:700;
    font-size:20px;
}

/* SEARCH */
.search-box {
    width:100%;
    max-width:600px;
}

/* PRODUCT CARD */
.product-card {
    border-radius:14px;
    overflow:hidden;
    transition:0.3s ease;
}

.product-card:hover {
    transform:translateY(-6px);
}

/* IMAGE FIX */
.product-img-container {
    height:220px;
    overflow:hidden;
    background:#fff;
}

.product-img-container img {
    width:100%;
    height:100%;
    object-fit:cover;
}

/* FOOTER */
footer {
    background:#172337;
    color:#ddd;
    padding:20px;
    text-align:center;
    margin-top:40px;
}

/* MOBILE */
@media (max-width:768px){
    .carousel-inner img{
        height:220px;
    }
}
</style>
</head>

<body>

	<!-- NAVBAR -->
	<nav class="navbar navbar-expand-lg navbar-dark px-3" style="background-color:#1B262C;">
	    <div class="container-fluid">

	        <!-- LOGO -->
	        <a class="navbar-brand d-flex align-items-center" th:href="@{/customer/dashboard}">
	            <img th:src="@{/images/logo2.png}" width="38" height="38" class="me-2">
	            <span style="font-weight:700; font-size:1.3rem; color:#FFD369;">Sale</span>
	            <span style="color:white; font-weight:700; font-size:1.3rem;">Scope</span>
	        </a>

	        <!-- MOBILE TOGGLE -->
	        <button class="navbar-toggler" type="button"
	                data-bs-toggle="collapse"
	                data-bs-target="#navbarContent">
	            <span class="navbar-toggler-icon"></span>
	        </button>

	        <div class="collapse navbar-collapse" id="navbarContent">

	            <!-- SEARCH -->
	            <form class="d-flex mx-auto w-50"
	                  th:action="@{/search}" method="get">
	                <input class="form-control me-2"
	                       type="search"
	                       name="query"
	                       placeholder="Search for products, brands and more">
	                <button class="btn btn-warning" type="submit">
	                    <i class="fa fa-search"></i>
	                </button>
	            </form>

	            <!-- RIGHT SIDE -->
	            <ul class="navbar-nav ms-auto align-items-center">

	                <!-- Cart -->
	                <li class="nav-item me-3">
	                    <a class="nav-link text-white fw-semibold"
	                       th:href="@{/cart}">
	                        <i class="fa fa-shopping-cart me-1"></i> Cart
	                    </a>
	                </li>

	                <!-- Profile Image -->
	                <li class="nav-item me-2 d-flex align-items-center">

	                    <a th:href="@{/customerprofile}"
	                       class="d-flex align-items-center text-white text-decoration-none">

	                        <img th:if="${profileImg != null and !profileImg.isEmpty()}"
	                             th:src="@{${profileImg}}"
	                             style="width:38px;height:38px;border-radius:50%;
	                                    object-fit:cover;border:2px solid white;"
	                             class="me-2">

	                        <img th:if="${profileImg == null or profileImg.isEmpty()}"
	                             th:src="@{/images/user.png}"
	                             style="width:38px;height:38px;border-radius:50%;
	                                    background:white;border:2px solid white;"
	                             class="me-2">

	                        <span th:text="${userName}" class="fw-semibold"></span>
	                    </a>
	                </li>

	                <!-- THREE LINE MENU BUTTON -->
	                <li class="nav-item dropdown">

	                    <button class="btn btn-sm text-white ms-2 dropdown-toggle"
	                            data-bs-toggle="dropdown"
	                            style="border:none; background:none;">
	                        <i class="fa fa-bars fa-lg"></i>
	                    </button>

	                    <ul class="dropdown-menu dropdown-menu-end shadow-sm border-0"
	                        style="min-width:220px;">

	                        <li>
	                            <a class="dropdown-item"
	                               th:href="@{/customerprofile}">
	                               <i class="fa fa-user text-primary me-2"></i>
	                               My Profile
	                            </a>
	                        </li>

	                        <li>
	                            <a class="dropdown-item"
	                               th:href="@{/customer/orders}">
	                               <i class="fa fa-box text-success me-2"></i>
	                               My Orders
	                            </a>
	                        </li>

	                        <li><hr class="dropdown-divider"></li>

	                        <li>
	                            <a class="dropdown-item text-danger"
	                               th:href="@{/logout}">
	                               <i class="fa fa-sign-out-alt me-2"></i>
	                               Logout
	                            </a>
	                        </li>

	                    </ul>

	                </li>

	            </ul>

	        </div>
	    </div>
	</nav>
	<!-- SLIDER -->
	<div id="carouselExampleIndicators" class="carousel slide mt-1" data-bs-ride="carousel">
	    <div class="carousel-inner">
	        <div class="carousel-item active">
	            <img th:src="@{/images/banner5.jpg}" class="d-block w-100">
	        </div>
	        <div class="carousel-item">
	            <img th:src="@{/images/banerr.jpg}" class="d-block w-100">
	        </div>
	        <div class="carousel-item">
	            <img th:src="@{/images/banner4.jpg}" class="d-block w-100">
	        </div>
	    </div>
	</div>


	<!-- PRODUCTS -->
	<div class="container mt-5">
	    <h2 class="text-center mb-4 fw-bold">Explore Our Products</h2>

	    <div class="row g-4">

	        <div class="col-6 col-md-4 col-lg-3" th:each="p : ${products}">
	            <div class="card product-card shadow-sm h-100 d-flex flex-column">

	                <div class="product-img-container">
	                    <img th:src="${p.image}"
	                         onerror="this.src='https://via.placeholder.com/400x250?text=No+Image';">
	                </div>

	                <div class="card-body text-center d-flex flex-column">

	                    <h6 class="fw-bold text-truncate"
	                        th:text="${p.name}">Product Name</h6>

	                    <p class="text-success fw-semibold">
	                        ₹ <span th:text="${p.price}">999</span>
	                    </p>

        <form th:action="@{/add-to-cart}" method="post" class="mt-auto">
            <input type="hidden"
                   name="productId"
                   th:value="${p.id}">
            <button type="submit"
                    class="btn btn-warning w-100 fw-semibold">
                Add To Cart
            </button>
        </form>

    </div>
</div>
</div>

<div class="col-12 text-center text-muted"
     th:if="${#lists.isEmpty(products)}">
    No products found!
</div>

</div>
</div>

<footer>
© 2025 SaleScope | Built with ❤️ by Kamaldev Kumar
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>