
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>SaleScope - Products</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

<style>
/* üî• SAME CSS AS YOUR JSP ‚Äî COPY YOUR CSS HERE */
</style>
</head>
<body>

<!-- ‚úÖ NAVBAR -->
<nav class="navbar navbar-expand-lg navbar-dark shadow-sm" style="height:58px; background-color:#7D0552">
  <div class="container-fluid px-3" style="max-width:1250px;">

    <a class="navbar-brand fw-bold" th:href="@{/customer/dashboard}">
      SaleScope
    </a>

    <div class="collapse navbar-collapse">

      <!-- üîç Search -->
     <form class="d-flex mx-auto my-1 my-lg-0 me-4"
            th:action="@{/search}" method="get"
            style="width:80%; max-width:1100px;">
        <input class="form-control me-2"
               name="query"
               type="search"
               placeholder="Search for products, brands and more">
        <button class="btn btn-warning px-3" type="submit">
          <i class="fa fa-search"></i>
        </button>
      </form>

      <!-- üî∏ Right Side -->
      <ul class="navbar-nav ms-auto align-items-center">

        <li class="nav-item ms-3 me-3">
          <a class="nav-link text-white fw-semibold" th:href="@{/cart}">
            <i class="fa fa-shopping-cart me-1"></i>Cart
          </a>
        </li>
		
		
		
		
		<!-- üë§ Profile -->
		<li class="nav-item dropdown d-flex align-items-center">

		    <a class="d-flex align-items-center text-white text-decoration-none"
		       th:href="@{/customerprofile}">

		        <!-- Profile Image -->
		        <img th:if="${profileImg != null and !profileImg.isEmpty()}"
		             th:src="@{${profileImg}}"
		             style="width:40px;height:40px;border-radius:50%;
		                    object-fit:cover;border:2px solid white;"
		             class="me-2">

		        <img th:if="${profileImg == null or profileImg.isEmpty()}"
		             th:src="@{/images/user.png}"
		             style="width:40px;height:40px;border-radius:50%;
		                    background:white;border:2px solid white;"
		             class="me-2">

		        <!-- Username -->
		        <span class="fw-semibold"
		              th:text="${userName}">
		        </span>

		    </a>

		</li>
		
		
		
		
          <button class="btn btn-sm text-white ms-2 dropdown-toggle"
                  data-bs-toggle="dropdown"
                  style="border:none; background:none;">
            <i class="fa fa-bars fa-lg"></i>
          </button>

          <ul class="dropdown-menu dropdown-menu-end shadow-sm border-0"
              style="min-width:220px;">

            <li><a class="dropdown-item" th:href="@{/customerprofile}">
              <i class="fa fa-user text-primary me-2"></i>My Profile</a></li>

            <li><a class="dropdown-item" th:href="@{/customer/orders}">
              <i class="fa fa-box text-success me-2"></i>My Orders</a></li>

            <li><hr class="dropdown-divider"></li>

            <li><a class="dropdown-item text-danger" th:href="@{/logout}">
              <i class="fa fa-sign-out-alt me-2"></i>Logout</a></li>
          </ul>
        </li>

      </ul>
    </div>
  </div>
</nav>

<!-- üî∑ SLIDER -->
<div id="carouselExampleIndicators"
     class="carousel slide mt-1 shadow rounded-4 overflow-hidden"
     data-bs-ride="carousel">

  <div class="carousel-inner">
    <div class="carousel-item active">
      <img th:src="@{/images/banner5.jpg}" class="d-block w-100">
    </div>

    <div class="carousel-item">
      <img th:src="@{/images/banerr.jpg}" class="d-block w-100">
    </div>

    <div class="carousel-item">
      <img th:src="@{/images/banner4.jpg}" class="d-block w-100">
    </div>
  </div>
</div>



<!-- üî∑ PRODUCTS -->
<div class="container mt-5">
  <h2 class="text-center mb-4 fw-bold">Explore Our Products</h2>

  <div class="row g-4">

    <!-- If Products Exist -->
    <div class="col-lg-3 col-md-4 col-sm-6"
         th:each="p : ${products}">

      <div class="card shadow-sm border-0 h-100 d-flex flex-column">

        <!-- Image -->
        <div style="height:220px; overflow:hidden;">
          <img th:src="@{'/' + ${p.image}}"
               onerror="this.src='https://via.placeholder.com/400x250?text=No+Image';"
               class="w-100 h-100"
               style="object-fit:cover;">
        </div>

        <!-- Body -->
        <div class="card-body text-center d-flex flex-column">

          <h6 class="fw-bold mb-2 text-truncate"
              th:text="${p.name}">
            Product Name
          </h6>

          <p class="text-success fw-semibold mb-3">
            ‚Çπ <span th:text="${p.price}">999</span>
          </p>

		  <form th:action="@{/add-to-cart}" method="post">
		      <input type="hidden" name="productId"
		             th:value="${p.id}">
		      <button type="submit"
		              class="btn btn-warning w-100 fw-semibold">
		          Add To Cart
		      </button>
		  </form>

        </div>

      </div>
    </div>

    <!-- If Empty -->
    <div class="col-12 text-center text-muted"
         th:if="${#lists.isEmpty(products)}">
      No products found!
    </div>

  </div>
</div>
<footer class="mt-5">
  <p>¬© 2025 SaleScope | Built with ‚ù§Ô∏è by Kamaldev Kumar</p>
</footer>

</body>
</html>